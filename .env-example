# ============================================================================
# ENVIRONMENT CONFIGURATION EXAMPLE
# ============================================================================
# This file contains example environment variable values
# Copy this file to .env and update with your actual values
# DO NOT COMMIT .env FILE TO GIT (it's in .gitignore)
# ============================================================================

# ============================================================================
# SPRING PROFILES CONFIGURATION
# ============================================================================
# Set the active Spring profile
# Options: dev (development/local), prod (production)
# Default: dev (if not set)
# 
# Development: Use for local testing
# Production: Use for server deployment
SPRING_PROFILES_ACTIVE=dev

# Application Environment (optional - usually set via profile)
# Options: development, production
# This is automatically set based on SPRING_PROFILES_ACTIVE, but can be overridden
# APP_ENVIRONMENT=development

# Application Debug Mode (optional - usually set via profile)
# Options: true, false
# This is automatically set based on SPRING_PROFILES_ACTIVE, but can be overridden
# APP_DEBUG=true

# ============================================================================
# PRIMARY DATABASE: PostgreSQL (Business Data)
# ============================================================================
# PostgreSQL connection settings
# Required for both dev and prod
POSTGRES_URL=jdbc:postgresql://localhost:5432/console
POSTGRES_USERNAME=
POSTGRES_PASSWORD=

# ============================================================================
# SECONDARY DATABASE: MongoDB (Logs, Analytics, Audit)
# ============================================================================
# MongoDB connection settings
# Option 1: Set MONGODB_URI directly (recommended)
MONGODB_URI=mongodb://127.0.0.1:27017/console

# Option 2: Set separate connection properties (if MONGODB_URI is not set)
MONGODB_HOST=127.0.0.1
MONGODB_PORT=27017
MONGODB_DATABASE=
MONGODB_USERNAME=
MONGODB_PASSWORD=
MONGODB_AUTH_DATABASE=

# ============================================================================
# REDIS CONFIGURATION (Cache, Sessions, Queues)
# ============================================================================
# Redis connection settings
REDIS_HOST=127.0.0.1
REDIS_PORT=6379
REDIS_PASSWORD=
REDIS_DATABASE=0

# ============================================================================
# JWT CONFIGURATION (Authentication)
# ============================================================================
# JWT Secret Key (MUST be minimum 32 characters)
# Generate with: openssl rand -base64 32
# IMPORTANT: Use a strong secret in production!
# Development: Can use a simple secret (but still 32+ chars)
# Production: MUST use a strong, randomly generated secret
JWT_SECRET=your-256-bit-secret-key-change-in-production-minimum-32-characters

# JWT Access Token Expiration (in milliseconds, default: 900000 = 15 minutes)
JWT_EXPIRATION=900000

# JWT Refresh Token Expiration (in milliseconds, default: 604800000 = 7 days)
JWT_REFRESH_EXPIRATION=604800000

# ============================================================================
# EMAIL SERVICE CONFIGURATION (SMTP)
# ============================================================================
# SMTP Server Settings
# For Gmail: Use App Password (not your regular password)
#   Generate App Password: https://myaccount.google.com/apppasswords
# For SendGrid: Use smtp.sendgrid.net with port 587
# For AWS SES: Use your SES SMTP endpoint
SMTP_HOST=smtp.gmail.com
SMTP_PORT=587
SMTP_USERNAME=your-email@gmail.com
SMTP_PASSWORD=your-app-password

# SMTP Advanced Settings
SPRING_MAIL_PROPERTIES_MAIL_SMTP_AUTH=true
SPRING_MAIL_PROPERTIES_MAIL_SMTP_STARTTLS_ENABLE=true
SPRING_MAIL_PROPERTIES_MAIL_SMTP_STARTTLS_REQUIRED=true
SPRING_MAIL_PROPERTIES_MAIL_SMTP_CONNECTIONTIMEOUT=5000
SPRING_MAIL_PROPERTIES_MAIL_SMTP_WRITETIMEOUT=5000
SPRING_MAIL_PROPERTIES_MAIL_SMTP_TIMEOUT=5000

# Email Application Configuration
# From email address (e.g., noreply@yourapp.com)
EMAIL_FROM=noreply@yourapp.com

# Frontend URL for email links
# Development: http://localhost:3000
# Production: https://yourdomain.com
EMAIL_FRONTEND_URL=http://localhost:3000

# Application name displayed in emails
EMAIL_APP_NAME=Console

# ============================================================================
# EMAIL VERIFICATION CONFIGURATION
# ============================================================================
# Email verification token expiration (in hours, default: 24 hours)
EMAIL_VERIFICATION_EXPIRATION_HOURS=24

# Maximum email verification requests per hour per user (rate limiting, default: 3)
EMAIL_VERIFICATION_MAX_REQUESTS_PER_HOUR=3

# ============================================================================
# PASSWORD RESET CONFIGURATION
# ============================================================================
# Password reset token expiration (in hours, default: 1 hour)
PASSWORD_RESET_EXPIRATION_HOURS=1

# Maximum password reset requests per hour per user (rate limiting, default: 3)
PASSWORD_RESET_MAX_REQUESTS_PER_HOUR=3

# ============================================================================
# FILE STORAGE CONFIGURATION
# ============================================================================
# Avatar File Storage
# Upload directory for avatar files (relative to application root or absolute path)
FILE_STORAGE_UPLOAD_DIR=uploads/avatars

# Base URL for serving avatar files
# Development: http://localhost:8080/api/v1/files/avatars
# Production: https://yourdomain.com/api/v1/files/avatars
FILE_STORAGE_BASE_URL=http://localhost:8080/api/v1/files/avatars

# Maximum avatar file size in bytes (default: 5242880 = 5MB)
FILE_STORAGE_MAX_FILE_SIZE=5242880

# Blog Cover Images File Storage
# Upload directory for blog cover images (relative to application root or absolute path)
FILE_STORAGE_BLOG_COVERS_UPLOAD_DIR=uploads/blog-covers

# Base URL for serving blog cover images
# Development: http://localhost:8080/api/v1/files/blog-covers
# Production: https://yourdomain.com/api/v1/files/blog-covers
FILE_STORAGE_BLOG_COVERS_BASE_URL=http://localhost:8080/api/v1/files/blog-covers

# ============================================================================
# STRIPE CONFIGURATION (Payment Provider)
# ============================================================================
# Stripe API Keys
# Test Mode: Use sk_test_xxx and pk_test_xxx
# Production: Use sk_live_xxx and pk_live_xxx
# Get from: https://dashboard.stripe.com/test/apikeys (test) or https://dashboard.stripe.com/apikeys (live)
STRIPE_SECRET_KEY=sk_test_xxx
STRIPE_PUBLISHABLE_KEY=pk_test_xxx

# Stripe Webhook Secret
# For local development: Run 'stripe listen --forward-to localhost:8080/api/v1/webhooks/stripe'
# For production: Get from Stripe Dashboard → Developers → Webhooks → Endpoint → Signing secret
STRIPE_WEBHOOK_SECRET=

# ============================================================================
# CORS CONFIGURATION (Frontend Integration)
# ============================================================================
# Comma-separated list of allowed origins (frontend URLs)
# Development: Allow localhost origins
#   CORS_ALLOWED_ORIGINS=http://localhost:3000,http://localhost:3001,http://127.0.0.1:3000,http://127.0.0.1:3001
# Production: Restrict to production domains only
#   CORS_ALLOWED_ORIGINS=https://yourdomain.com,https://www.yourdomain.com
CORS_ALLOWED_ORIGINS=http://localhost:3000,http://localhost:3001

# Whether to allow credentials (cookies, authorization headers)
CORS_ALLOW_CREDENTIALS=true

# Max age for preflight requests (in seconds, default: 3600 = 1 hour)
CORS_MAX_AGE=3600

# ============================================================================
# SOCKET.IO CONFIGURATION (Real-Time Monitoring)
# ============================================================================
# Socket.IO server hostname (0.0.0.0 to bind to all interfaces)
SOCKETIO_HOSTNAME=0.0.0.0

# Socket.IO server port (default: 9092, separate from main app on 8080)
# Note: Socket.IO runs as a separate server, so it needs its own port
# Frontend should connect to this port for WebSocket connections
SOCKETIO_PORT=9092

# Socket.IO context path
SOCKETIO_CONTEXT=/socket.io

# Ping timeout in milliseconds (default: 60000 = 60 seconds)
SOCKETIO_PING_TIMEOUT=60000

# Ping interval in milliseconds (default: 25000 = 25 seconds)
SOCKETIO_PING_INTERVAL=25000

# Maximum frame payload length in bytes (default: 1048576 = 1MB)
SOCKETIO_MAX_FRAME_PAYLOAD_LENGTH=1048576

# ============================================================================
# IP GEOLOCATION CONFIGURATION
# ============================================================================
# Enable/disable IP geolocation feature (default: true)
IP_GEOLOCATION_ENABLED=true

# Primary IP geolocation provider (IPLOCALIZE or IPLOCATE)
IP_GEOLOCATION_PROVIDER_PRIMARY=IPLOCALIZE

# Enable fallback to secondary provider if primary fails (default: false)
IP_GEOLOCATION_ENABLE_FALLBACK=false

# Fallback IP geolocation provider (optional, leave empty to disable)
IP_GEOLOCATION_PROVIDER_FALLBACK=

# IPLocalize.com Configuration
# Enable/disable IPLocalize adapter (default: true)
IP_GEOLOCATION_IPLOCALIZE_ENABLED=true

# IPLocalize.com base URL (default: https://iplocalize.com)
IP_GEOLOCATION_IPLOCALIZE_BASE_URL=https://iplocalize.com

# Request timeout in milliseconds (default: 5000)
IP_GEOLOCATION_IPLOCALIZE_TIMEOUT=5000

# ============================================================================
# PERMISSION CACHE CONFIGURATION
# ============================================================================
# Enable/disable permission caching (default: true)
PERMISSIONS_CACHE_ENABLED=true

# Cache TTL in seconds (default: 3600 = 1 hour)
PERMISSIONS_CACHE_TTL=3600

# ============================================================================
# FILE UPLOAD CONFIGURATION (Optional)
# ============================================================================
# Maximum file size for multipart uploads (default: Spring Boot default)
# Uncomment and set if you need to override Spring Boot's default multipart settings
# SPRING_SERVLET_MULTIPART_MAX_FILE_SIZE=10MB
# SPRING_SERVLET_MULTIPART_MAX_REQUEST_SIZE=10MB

# ============================================================================
# LOGGING CONFIGURATION (Optional - Production)
# ============================================================================
# File-based logging configuration (optional, commented out by default)
# Uncomment and configure for production file-based logging
# LOGGING_FILE_NAME=/var/log/spring/application.log
# LOGGING_LOGBACK_ROLLINGPOLICY_MAX_FILE_SIZE=10MB
# LOGGING_LOGBACK_ROLLINGPOLICY_MAX_HISTORY=30

# ============================================================================
# API DOCUMENTATION CONFIGURATION (Optional - Not Currently Implemented)
# ============================================================================
# Swagger/OpenAPI documentation settings
# NOTE: Swagger/OpenAPI is not currently implemented in this project
# These variables are provided for future use if you decide to add Swagger
# SPRINGDOC_API_DOCS_ENABLED=true
# SPRINGDOC_SWAGGER_UI_ENABLED=true
# SPRINGDOC_SWAGGER_UI_PATH=/swagger-ui.html

# ============================================================================
# PROFILE-SPECIFIC NOTES
# ============================================================================
# 
# DEVELOPMENT PROFILE (dev):
# - Uses application-dev.properties
# - Debug logging enabled
# - SQL queries logged
# - Hibernate auto-updates schema
# - Template caching disabled
# - All actuator endpoints exposed
# - Localhost CORS allowed
#
# PRODUCTION PROFILE (prod):
# - Uses application-prod.properties
# - Debug logging disabled
# - SQL queries not logged
# - Hibernate validates schema only
# - Template caching enabled
# - Limited actuator endpoints
# - Restricted CORS (production URLs only)
# - Compression enabled
#
# IMPORTANT PRODUCTION REQUIREMENTS:
# 1. Set SPRING_PROFILES_ACTIVE=prod
# 2. Use strong JWT_SECRET (generate with: openssl rand -base64 32)
# 3. Set secure database credentials
# 4. Restrict CORS_ALLOWED_ORIGINS to production domains
# 5. Update EMAIL_FRONTEND_URL to production URL
# 6. Update FILE_STORAGE_BASE_URL to production URL
# 7. Use production Stripe keys (sk_live_xxx, pk_live_xxx)
# 8. Set production SMTP credentials
# 9. Configure proper logging (file-based logging recommended)
# 10. Enable SSL/TLS certificates
#
# ============================================================================
# ADDITIONAL NOTES
# ============================================================================
# - Environment variables take precedence over .env file values
# - System environment variables take precedence over .env file
# - Profile-specific properties override base application.properties
# - Never commit .env file with real credentials to git
# - Use secrets management service in production (AWS Secrets Manager, etc.)
